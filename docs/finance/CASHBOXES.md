# Кассы (Cashboxes)

Назначение
- Касса — источник/приёмник финансовых движений.
- Баланс расчётный, хранится через `cashbox_history` (не в `cashboxes`).

Данные и хранение
- Таблица `cashboxes`: `name`, `description`, `is_active`, `logo_source`, `logo_preset_id`, `logo_path`.
- Пресеты логотипов: `cashbox_logos`.
- Файлы логотипов: `storage/app/public/cashboxes/*`.

UI-стандарт
- В таблицах и селектах касса отображается как «логотип + название».
- Исключение: отдельные колонки «Логотип» и «Название» в справочнике касс.

API
- CRUD: `/api/settings/cash-boxes`.
- Пресеты логотипов: `/api/settings/cashbox-logos`.
- Список + баланс: `/api/finance/cashboxes`.

Удаление
- Удаление кассы запрещено при наличии связанных транзакций/приходов/расходов.
- Если связей нет — жёсткое удаление.

## REALITY STATUS
- Реально реализовано: кассы, история, логотипы, проверки связей при удалении.
- Легаси: часть данных могла быть перенесена из legacy без полной нормализации.
- Не сделано: автоматические снапшоты балансов (нет расписания job).
